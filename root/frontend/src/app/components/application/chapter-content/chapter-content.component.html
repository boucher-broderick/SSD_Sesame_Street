<link href="https://fonts.cdnfonts.com/css/ds-marker-felt" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/chalkduster" rel="stylesheet">

<style>
    @import url('https://fonts.cdnfonts.com/css/ds-marker-felt');
    @import url('https://fonts.cdnfonts.com/css/chalkduster');
</style>

<p-toast class="toast" position="top-right" [baseZIndex]=10000></p-toast>

<div class="body" [ngClass]="{'sidebar-open': sidebarVisible}">
    <div class="title-container">
        <h1 style="font-size: 40px" class="chapter-title">{{chapterNumber}} </h1>
        <h1 style="font-size: 40px" class="chapter-title">{{chapterName}} </h1>
        <p-overlayPanel #op [style]="{
        width: '500px',
        fontSize: '15px',
        border: '0.5px solid black',
        borderRadius: '5px'
    }">
        {{description}}
    </p-overlayPanel>
    <p-button class="description-but" icon="pi pi-search" size="small" [rounded]="true" [text]="true" severity="info" (click)="op.toggle($event)" ></p-button>
        <ul>
            <li class="redirect-projects" title="Go to projects" (click)="redirectToProjects()">
                <i class="pi pi-folder-open" style="font-size: 1rem; color: #f5cf76"></i>
                <span> Projects</span>
            </li>
            <li class="redirect-settings" title="Settings" (click)="redirectToSettings()">
                <i class="pi pi-cog" style="font-size: 1rem; color: teal"></i>
                <span> Settings</span>
            </li>
            <li class="redirect-home" title="Home" (click)="redirectToHome()"> <i class="pi pi-sign-out"></i> Log Out </li>
        </ul>
    </div>
    <div class="right-panel card flex justify-content-center">
        <p-splitButton class="menu-button" size="small" icon="pi pi-check" label="Save"  [model]="menuItems" (onClick)="onSave()" styleClass="p-button-raised p-button-info p-button-text mr-2 mb-2"></p-splitButton>
        <p-button class="sidePanelButton" icon="pi pi-image" (click)="sidebarVisible=true" [raised]="true" [rounded]="true" [text]="true" severity="success"></p-button>
    </div>
    <p-sidebar class="sidebar" [(visible)]="sidebarVisible" [modal]="false" position="right" [style]="{width:'35em'}">
        <h1 class="insPanelTitle">Inspiration Panel</h1>
        <span class="insImageTitle">Images
            <p-button class="panel-save" icon="pi pi-check" label="save" [rounded]="true" [raised]="true" [text]="true" severity="info" [loading]="loading" (click)="onSave(); load()"></p-button>
        </span>
        <p-editor class="images" [(ngModel)]="images" [style]="{ height: '350px' }">
            <ng-template pTemplate="header">
                <span class="ql-formats">
                    <button type="button" class="ql-image" aria-label="Image"></button>
                    <i class="pi pi-arrow-left" style="font-size: 0.6rem; color: grey;"></i>
                    <span style="font-size:12px; color: grey;"> add images here</span>
                </span>
            </ng-template>
        </p-editor>
        <span class="insImageTitle" style="margin-top:20px;margin-bottom:20px; color:orangered">Videos </span>
        <p-editor class="videos" [(ngModel)]="videos" [style]="{ height: '350px' }">
            <ng-template pTemplate="header">
                <span class="ql-formats">
                    <button type="button" class="ql-video" aria-label="Video"></button>
                    <i class="pi pi-arrow-left" style="font-size: 0.6rem; color: grey;"></i>
                    <span style="font-size:12px; color: grey;"> add videos here</span>
                </span>
            </ng-template>
        </p-editor>
        <p-panel class="links-panel" header="Links" [toggleable]="true">
            <textarea class="links" rows="5" cols="30" pInputTextarea (change)="onLinksChange()" [(ngModel)]="links"></textarea>
        </p-panel>
    </p-sidebar>
    <div class="editor-container" >
        <p-editor class="main" [(ngModel)]="text" [placeholder]="''" (onTextChange)="onTextChange()"></p-editor>
    </div>
    <div class="bottom-buttons">
            <p-button class="bot-chapters" icon="pi pi-arrow-left" label="Back" [rounded]="true" [text]="true" severity="secondary" [loading]="loading" (click)="redirectToChapters(); load()"></p-button>
            <p-button class="bot-save" icon="pi pi-check" label="Save" [rounded]="true" [text]="true" severity="info" [loading]="loading" (click)="onSave(); load()"></p-button>
        </div>
</div>
